# Kodi skin-unity

Kodi æ˜¯ä¸€æ¬¾ç›¸å½“å¼ºå¤§çš„å¼€æº TV è½¯ä»¶ï¼ŒåŒ…å«äº†éŸ³ä¹ã€è§†é¢‘ã€ç”µè§†ã€å›¾ç‰‡ã€æ¸¸æˆç­‰åŠŸèƒ½ï¼Œæ‹¥æœ‰å¼ºå¤§çš„æ’ä»¶ç³»ç»Ÿï¼Œä¸”å®˜æ–¹æ’ä»¶å•†åº—çš„æ’ä»¶éƒ½æ˜¯å…è´¹ä¸”å¼€æºçš„ï¼Œå¯ç©æ€§å¯ä»¥è¯´æ˜¯ç›¸å½“å¼ºäº†ã€‚

Unity æ˜¯ä¸€æ¬¾è®¾è®¡ç›¸å½“å‰å«çš„çš®è‚¤ï¼ŒMaterial Design é£æ ¼ï¼Œç•Œé¢ç›¸å½“ä¼˜ç¾ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰èœå•ã€‚

éŸ³ä¹ä½¿ç”¨ chen310 å¤§ä½¬çš„ç½‘æ˜“äº‘æ’ä»¶[chen310/plugin.audio.music163: ç½‘æ˜“äº‘éŸ³ä¹ Kodi æ’ä»¶ (github.com)](https://github.com/chen310/plugin.audio.music163)ï¼Œåœ¨ç”µè§†ä¸Šç”¨æ‰‹æœºçš„ VIPï¼Œç€å®å¾ˆçˆ½ï¼Œä½†æ’­æ”¾ç•Œé¢æœ‰ç‚¹æ“è›‹ï¼š

- æ‰“å¼€æ’­æ”¾é¡µï¼Œæ­Œæ›²ä¿¡æ¯å’Œæ­Œè¯å åŠ æ˜¾ç¤ºï¼Œæ­Œè¯è¿˜æœ‰èƒŒæ™¯æ¡†:dog:ï¼Œç­‰ä¸€ä¼šæ‰ä¼šåªæ˜¾ç¤ºæ­Œè¯ï¼Œè€Œä¸”èƒŒæ™¯ä¸€ç‰‡é»‘
- è¿”å›å…³é—­æ­Œè¯ï¼Œç„¶åä¸€ç‰‡é»‘ï¼Œå†è¿”å›æ‰é€€å‡ºæ’­æ”¾é¡µ

ç”¨äº† chen310 å¤§ä½¬ä¿®æ”¹çš„ Unity çš®è‚¤[ã€å›¾ç‰‡ã€‘åœ¨ Kodi ä¸­ä½¿ç”¨ç½‘æ˜“äº‘éŸ³ä¹æ’ä»¶å¬æ­Œã€kodiå§ã€‘_ç™¾åº¦è´´å§ (baidu.com)](https://tieba.baidu.com/p/8021470008)ï¼š

- æ­Œè¯èƒŒæ™¯æ¡†æ²¡äº†
- æ­Œè¯å±…ä¸­
- æ­Œè¯æœ‰æ­Œæ›²å›¾ç‰‡èƒŒæ™¯äº†

ä½†ï¼š

- æ‰“å¼€æ’­æ”¾é¡µï¼Œæ­Œæ›²ä¿¡æ¯å’Œæ­Œè¯å åŠ æ˜¾ç¤ºï¼Œç­‰ä¸€ä¼šæ‰ä¼šåªæ˜¾ç¤ºæ­Œè¯
- è¿”å›å…³é—­æ­Œè¯ï¼Œç„¶åä¸€ç‰‡é»‘ï¼Œå†è¿”å›æ‰é€€å‡ºæ’­æ”¾é¡µ

çœ‹æ¥å¤§ä½¬å·²ç»æŠŠéš¾æçš„éƒ¨åˆ†æå¥½äº†ï¼Œå¼€æºçš„ä¹ˆï¼Œæ•´æ¥çœ‹çœ‹èƒ½ä¸èƒ½è§£å†³ä¸‹å‰©ä½™çš„é—®é¢˜ã€‚

zip è§£åŒ…å¤§ä½¬ä¿®æ”¹çš„ skin.unityï¼Œæ‰“å¼€ä»£ç ä¸€çœ‹ï¼Œå…¨æ˜¯å¸ƒå±€æ–‡ä»¶ï¼Œæ‹¿ç•Œé¢ä¸­çš„æ–‡å­—å»æœç´¢ï¼Œæ ¹æœ¬æ‰¾ä¸åˆ°ï¼Œæ‹¿å¸ƒå±€æ–‡ä»¶åå»æœç´¢ï¼Œä¹Ÿæ˜¯æ‰¾ä¸åˆ°ï¼Œå®Œå…¨ä¸çŸ¥é“æ˜¯æ€ä¹ˆè°ƒç”¨çš„ã€‚ã€‚ã€‚

ç»è¿‡ç ”ç©¶ï¼Œç©æ˜ç™½çš„ï¼š

# å¼€å‘æ‰‹å†Œ

> å¼€å‘ç›®å½•ï¼š[Category:Skin development - Official Kodi Wiki](https://kodi.wiki/view/Category:Skin_development)
>
> å¼€å‘æ‰‹å†Œï¼š[Skinning Manual - Official Kodi Wiki](https://kodi.wiki/view/Skinning_Manual)
>
> å†…ç½®å˜é‡ï¼š[Kodi Documentation: Infolabels and Boolean conditions (xbmc.github.io)](https://xbmc.github.io/docs.kodi.tv/master/kodi-base/d5/d11/modules__infolabels_boolean_conditions.html)
>
> å†…ç½®æ–¹æ³•ï¼š[Kodi Documentation: List of built-in functions (xbmc.github.io)](https://xbmc.github.io/docs.kodi.tv/master/kodi-base/d0/d3e/page__list_of_built_in_functions.html)
>
> å®˜æ–¹è®ºå›ï¼š[Kodi Community Forum (3)](https://forum.kodi.tv/)

æ­Œæ›²å°é¢å›¾ï¼š`$INFO[MusicPlayer.offset(0).Cover]`

è¿˜æœ‰å¤–é¢å†å¥—ä¸€å±‚`$INFO[]`çš„ï¼Œä¸çŸ¥é“æ˜¯ä½•æ„

é€»è¾‘è¡¨è¾¾å¼ï¼š

```java
// ä¸
Player.ShowInfo + Window.IsActive(MusicOSD)
// æˆ–
Player.ShowInfo | Window.IsActive(MusicOSD)
// é
!Player.ShowInfo
// åµŒå¥—
[Player.ShowInfo | Window.IsVisible(script-cu-lrclyrics-main.xml)] + Window.IsActive(MusicOSD)
```

è®¾ç½®é¡¹ï¼š`Skin.HasSetting(HideVisualizationFanart)`

æ˜¯å¦æœ‰å¯è§†åŒ–æ’ä»¶ï¼š`String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image))`

æ­Œæ›²æ§ä»¶æ˜¯å¦æ˜¾ç¤ºï¼š`Window.IsActive(MusicOSD)`

æ­Œè¯æ˜¯å¦æ‰“å¼€ï¼š`Window.IsVisible(script-cu-lrclyrics-main.xml)`

### Window | çª—å£

å…¨éƒ¨çª—å£ï¼š[Kodi Development: WindowIDs (xbmc.github.io)](https://xbmc.github.io/docs.kodi.tv/master/kodi-dev-kit/window_ids.html)

çª—å£æ˜¯å¦å¯è§ï¼š`Window.IsVisible(SelectDialog)`

### Control | æ§ä»¶

```xml
<control type="image">
    <description>Fanart Image for Artist</description>
    <aspectratio>scale</aspectratio>
    <fadetime>400</fadetime>
    <animation effect="fade" start="0" end="100" time="400">WindowOpen</animation>
    <animation effect="fade" start="100" end="0" time="300">WindowClose</animation>
    <animation effect="fade" start="100" end="75" condition="Control.IsVisible(2)">Conditional</animation>
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <texture background="true">$INFO[MusicPlayer.offset(0).Cover]</texture>
    <visible>String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) + !Skin.HasSetting(HideVisualizationFanart)</visible>
</control>
```

å±…ä¸­ï¼š`<centerleft>50%</centerleft>`ï¼ˆä¸­å¿ƒè·å·¦è¾¹50%ï¼Œå¯ä¸å°±æ˜¯å±…ä¸­ä¹ˆï¼‰

è¢«æ˜¾ç¤ºæ—¶çš„åŠ¨ç”»ï¼š`<animation effect="fade" start="0" end="100" time="200">Visible</animation>`

è¢«éšè—æ—¶çš„åŠ¨ç”»ï¼š`<animation effect="fade" start="100" end="0" time="200">Hidden</animation>`

> ### Tags available to all controls | æ§ä»¶æ ‡ç­¾
>
> |    Tag(s)    |                          Definition                          |
> | :----------: | :----------------------------------------------------------: |
> | description  | Only used to make things clear for the skinner. Not read by Kodi at all. |
> |     type     |                     The type of control.                     |
> |      id      | Specifies the control's id. The value this takes depends on the control type, and the window that you are using the control on. There are special control id's that must be present in each window. Any other controls that the skinner adds can be any id they like. Any controls that the skinner specifies content needs not have an id unless it's needed for animation purposes. For instance, most image and label controls don't need an id if the skinner specifies they're content. |
> |     left     | Specifies where the left edge of the control should be drawn, relative to it's parent's left edge. If an "r" is included (eg 180r) then the measurement is taken from the parent's right edge (in the left direction). This can be an absolute value or a %. |
> |     top      | Specifies where the top edge of the control should be drawn, relative to it's parent's top edge. If an "r" is included (eg 180r) then the measurement is taken from the parent's bottom edge (in the up direction). This can be an absolute value or a %. |
> |    right     | Specifies where the right edge of the control should be drawn. This can be an absolute value or a %. |
> |    bottom    | Specifies where the bottom edge of the control should be drawn. This can be an absolute value or a %. |
> |  centerleft  | Aligns the control horizontally at the given coordinate measured from the left side of the parent control. This can be an absolute value or a %. |
> | centerright  | Aligns the control horizontally at the given coordinate measured from the right side of the parent control. This can be an absolute value or a %. |
> |  centertop   | Aligns the control vertically at the given coordinate measured from the top side of the parent control. This can be an absolute value or a %. |
> | centerbottom | Aligns the control vertically at the given coordinate measured from the bottom side of the parent control. This can be an absolute value or a %. |
> |    width     | Specifies the width that should be used to draw the control. You can use <width>auto</width> for labels (in grouplists) and button/togglebutton controls. |
> |    height    | Specifies the height that should be used to draw the control. |
> |   visible    | Specifies a condition as to when this control will be visible. Can be true, false, or a condition. See [Conditional Visibility](https://kodi.wiki/view/Conditional_Visibility) for more information. Defaults to true. |
> |  animation   | Specifies the animation to be run when the control enters a particular state. See [Animating your skin](https://kodi.wiki/view/Animating_your_skin) for more information. |
> |    camera    | Specifies the location (relative to the parent's coordinates) of the camera. Useful for the 3D animations such as rotatey. Format is `<camera x="20" y="30" />`. 'r' values and % are also supported. |
> |    depth     | Specifies the 3D stereoscopic depth of a control. possible values range from -1.0 to 1.0, which brings control "to back" and "to front". |
> | colordiffuse | This specifies the color to be used for the texture basis. It's in hex AARRGGBB format. If you define `<colordiffuse>FFFF00FF</colordiffuse>` (magenta), the image will be given a magenta tint when rendered. Defaults to FFFFFFFF (no tint). You can also specify this as a name from the [colour theme](https://kodi.wiki/view/Colour_themes). |
>
> ### Tags available to focusable controls | å¯èšç„¦æ§ä»¶ç‰¹æœ‰æ ‡ç­¾
>
> In addition, any control that is focusable (e.g. a buttoncontrol) will have the following tags available.
>
> |     Tags      |                          Definition                          |
> | :-----------: | :----------------------------------------------------------: |
> |     onup      | Specifies the `<id>` of the control that should be moved to when the user moves up off this control. Can point to a control group (which remembers previous focused items). |
> |    ondown     | Specifies the `<id>` of the control that should be moved to when the user moves down off this control. Can point to a control group (which remembers previous focused items). |
> |    onleft     | Specifies the `<id>` of the control that should be moved to when the user moves left off this control. Can point to a control group (which remembers previous focused items). |
> |    onright    | Specifies the `<id>` of the control that should be moved to when the user moves right off this control. Can point to a control group (which remembers previous focused items). |
> |    onback     | Specifies the `<id>` of the control that should be focussed when the user presses the back key. Can point to a control group (which remembers previous focused items). |
> |    oninfo     | Specifies the built-in function that should be executed when the user presses the info key. |
> |    onfocus    | Specifies the built-in function that should be executed when the control is focussed. |
> |   onunfocus   | Specifies the built-in function that should be executed when the control is loses focus. |
> |    hitrect    | Specifies the location and size of the "focus area" of this control (relative to the parent's coordinates) used by the mouse cursor. Format is `<hitrect x="20" y="30" w="50" h="10" />` |
> | hitrectcolor  | This adds the ability to visualize hitrects for controls. When visible and there's a <hitrectcolor> tag, it will paint a colored rectangle over the actual control. Colors can be specified in AARRGGBB format or a name from the color theme. |
> |    enable     | Specifies a condition as to when this control will be enabled. Can be true, false, or a condition. See [Conditional Visibility](https://kodi.wiki/view/Conditional_Visibility) for more information. Defaults to true. |
> | pulseonselect | This specifies whether or not a button type will "pulse" when it has focus. This is done by varying the alpha channel of the button. Defaults to true. |
>
> å…¨éƒ¨å±æ€§ï¼š[Default control tags - Official Kodi Wiki](https://kodi.wiki/view/Default_control_tags)

> [Kodi Development: Skin Development (xbmc.github.io)](https://xbmc.github.io/docs.kodi.tv/master/kodi-dev-kit/skin_parts.html)

è¿å®˜æ–¹éƒ½è¯´çš®è‚¤å¤æ‚ï¼Œçœ‹äº†åŠå¤©ï¼Œå¯ç®—æ˜¯å¤§æ¦‚äº†è§£å®ƒæ€ä¹ˆè¿ä½œçš„äº†ï¼šé¡µé¢æ“ä½œé€»è¾‘ã€è°ƒç”¨æ˜¯ç¨‹åºå›ºå®šçš„ï¼Œçš®è‚¤åªæ˜¯å¯ä»¥ä¿®æ”¹ç•Œé¢ã€åŠ¨ç”»ç­‰ï¼Œæ‰€ä»¥å•çº¯ä»çš®è‚¤é‡Œï¼Œæ˜¯æ‰¾ä¸åˆ°è°ƒç”¨é€»è¾‘çš„

### é¡µé¢

æ’­æ”¾é¡µï¼š`xml\MusicVisualisation.xml`

éŸ³ä¹æ§ä»¶ï¼š`xml\MusicOSD.xml`

æ­Œè¯ï¼š`xml\script-cu-lrclyrics-main.xml`

# æ’­æ”¾é¡µé¢çš„é»‘è‰²æ”¹ä¸ºæ­Œæ›²å°é¢

åœ¨æ’­æ”¾é¡µä¸­å¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€æ®µï¼š

```xml
<control type="visualisation" id="2">
    <description>visualisation</description>
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <visible>!String.IsEmpty(Visualisation.Name)</visible>
</control>
<control type="image">
    <description>Fanart Image for Artist</description>
    <aspectratio>scale</aspectratio>
    <fadetime>400</fadetime>
    <animation effect="fade" start="0" end="100" time="400">WindowOpen</animation>
    <animation effect="fade" start="100" end="0" time="300">WindowClose</animation>
    <animation effect="fade" start="100" end="75" condition="Control.IsVisible(2)">Conditional</animation>
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <texture background="true">$INFO[Player.Art(fanart)]</texture>
    <visible>String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) + !Skin.HasSetting(HideVisualizationFanart)</visible>
</control>
<control type="image">
    <aspectratio>scale</aspectratio>
    <fadetime>400</fadetime>
    <animation effect="fade" start="0" end="100" time="400">WindowOpen</animation>
    <animation effect="fade" start="100" end="0" time="300">WindowClose</animation>
    <animation effect="fade" start="100" end="75" condition="Control.IsVisible(2)">Conditional</animation>
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <texture background="true">$INFO[Window(Visualisation).Property(ArtistSlideshow.Image)]</texture>
    <visible>!String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) + !Skin.HasSetting(HideVisualizationFanart) + !Skin.HasSetting(DisableArtistSlideshow)</visible>
</control>
```

å…±æœ‰ä¸‰ä¸ªå¤§å°100%çš„æ§ä»¶

- ç¬¬ä¸€ä¸ªæ˜¯å¯è§†åŒ–
- ç¬¬äºŒä¸ªæ˜¯åœ¨å¯è§†åŒ–æ’ä»¶æ²¡æœ‰å›¾ç‰‡çš„æƒ…å†µæ˜¾ç¤ºä¸ªä»€ä¹ˆ`Player.Art?`
- ç¬¬ä¸‰ä¸ªæ˜¯åœ¨å¯è§†åŒ–æ’ä»¶æœ‰å›¾ç‰‡çš„æƒ…å†µæ˜¾ç¤ºå¯è§†åŒ–çš„å›¾ç‰‡

ä¸çŸ¥é“å¯è§†åŒ–å›¾ç‰‡æ˜¯ä¸ªä»€ä¹ˆï¼Œå°±æ”¹ç¬¬äºŒä¸ªå§

```xml
<control type="image">
    <description>Fanart Image for Artist</description>
    <aspectratio>scale</aspectratio>
    <fadetime>400</fadetime>
    <animation effect="fade" start="0" end="100" time="400">WindowOpen</animation>
    <animation effect="fade" start="100" end="0" time="300">WindowClose</animation>
    <animation effect="fade" start="100" end="75" condition="Control.IsVisible(2)">Conditional</animation>
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <texture background="true">$INFO[MusicPlayer.offset(0).Cover]</texture>
    <visible>String.IsEmpty(Window(Visualisation).Property(ArtistSlideshow.Image)) + !Skin.HasSetting(HideVisualizationFanart)</visible>
</control>
```

è¿™é‡Œæ˜¾ç¤ºç€å›¾ï¼Œå¤§ä½¬æ”¹çš„æ­Œè¯ç•Œé¢çš„å›¾å°±æ²¡å¿…è¦äº†ï¼Œåˆ æ‰è¿™ä¸€æ®µï¼š

```xml
<control type="image">
    <description>background image</description>
    <top>-80</top>
    <width>100%</width>
    <height>100%</height>
    <aspectratio>scale</aspectratio>
    <animation effect="fade" start="0" end="100" time="300">WindowOpen</animation>
    <animation effect="fade" start="100" end="0" time="200">WindowClose</animation>
    <texture colordiffuse="C2AAAAAA">$INFO[MusicPlayer.offset(0).Cover]</texture>
</control>
```

è¿™æ ·ä¸€æ”¹æ•ˆæœå°±å¥½å¤šäº†

# æ­Œæ›²ä¿¡æ¯æ˜¾ç¤º

![1699621350222](assets/1699621350222.png)

æˆ‘æ›´å¸Œæœ›æ’­æ”¾é¡µé¢è¿™æ ·ï¼š

- ä¸€ç›´æ˜¾ç¤ºæ­Œæ›²ä¿¡æ¯ï¼ˆé»˜è®¤æˆ–ä»æ­Œè¯è¿”å›åï¼‰
- æ˜¾ç¤ºæ­Œè¯æ—¶éšè—æ­Œæ›²ä¿¡æ¯

æ’­æ”¾é¡µå¾€ä¸‹æ‰¾ï¼Œå¯ä»¥çœ‹åˆ°è¿™æ ·ä¸€ä¸ªæ§ä»¶

```xml
<control type="group">
    <centerleft>50%</centerleft>
    <top>283r</top>
    <width>1140</width>
```

è§‚å¯Ÿé‡Œé¢çš„æ§ä»¶ï¼ŒåŒ…å«äº†å°å°é¢ã€æ­Œæ‰‹ã€æ­Œæ›²ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œè¿™ä¸€å—å°±æ˜¯æ­Œæ›²ä¿¡æ¯ï¼Œä»–çš„`visible`å±æ€§ä¸ºï¼š

```java
[Skin.HasSetting(AlwaysShowMusicInfo) | Player.ShowInfo | Window.IsActive(MusicOSD)] + ![Window.IsVisible(AddonSettings) | Window.IsVisible(SelectDialog) | Window.IsVisible(VisualisationPresetList) | Window.IsVisible(PVROSDChannels) | Window.IsVisible(PVRChannelGuide) | Window.IsVisible(PVRRadioRDSInfo) | Window.IsVisible(Addon)]
```

é€»è¾‘æ˜¯ï¼šçš®è‚¤è®¾ç½®äº†æ€»æ˜¯å±•ç¤ºæ­Œæ›²ä¿¡æ¯ï¼Œæˆ–æ§ä»¶æ˜¾ç¤ºï¼Œæˆ–`Player.ShowInfo`ï¼Œå¹¶ä¸”æ²¡æœ‰æ‰“å¼€çª—å£æ—¶ï¼Œæ˜¾ç¤ºæ­Œæ›²ä¿¡æ¯ï¼Œè¦ä¿®æ”¹è¿™é‡Œå°±å¾ˆç®€å•äº†ï¼š

- åœ¨æ˜¾ç¤ºçš„æƒ…å†µä¸­æ·»åŠ æ­Œè¯æœªæ˜¾ç¤º
- åœ¨éšè—çš„æƒ…å†µä¸­æ·»åŠ æ­Œè¯æ˜¾ç¤º

```java
[Skin.HasSetting(AlwaysShowMusicInfo) | Player.ShowInfo | Window.IsActive(MusicOSD) | !Window.IsVisible(script-cu-lrclyrics-main.xml)] + ![Window.IsVisible(script-cu-lrclyrics-main.xml) | Window.IsVisible(AddonSettings) | Window.IsVisible(SelectDialog) | Window.IsVisible(VisualisationPresetList) | Window.IsVisible(PVROSDChannels) | Window.IsVisible(PVRChannelGuide) | Window.IsVisible(PVRRadioRDSInfo) | Window.IsVisible(Addon)]
```

### OSD å¤„ç†

ç»ä¸Šè¿°ä¿®æ”¹ï¼Œæµ‹è¯•å‘ç°ï¼Œæ­Œæ›²ä¿¡æ¯å·²ç»æŒ‰é¢„æœŸæ˜¾ç¤ºéšè—ï¼Œä½†æ§ä»¶éƒ¨åˆ†ä¸å—æ§åˆ¶ï¼ŒåŸå› æ˜¯**æ§ä»¶å¹¶æœªåŒ…å«åœ¨ä¸Šè¿°çš„ control ä¸­ï¼Œè€Œæ˜¯ç‹¬ç«‹çš„åä¸º`MusicOSD`çš„æ§ä»¶**ï¼Œä»¥ç›®å‰çš„æŒæ¡ç¨‹åº¦ï¼Œè¿™ä¸ªæ§ä»¶çš„æ˜¾ç¤ºéšè—ä¼¼ä¹å¾ˆéš¾å»æ§åˆ¶äº†ï¼ˆæˆ–è€…ä¸èƒ½æ§åˆ¶ï¼‰ã€‚

æ—¢ç„¶å¦‚æ­¤ï¼Œé‚£å°±ä»å®ƒå¸¦æ¥çš„å½±å“ç€æ‰‹è§£å†³äº†ï¼šå°å°é¢çš„é«˜åº¦ = æ­Œæ›²ä¿¡æ¯ + OSDï¼Œæ‰€ä»¥ OSD éšè—æ‰åä¼šå¾ˆéš¾çœ‹ï¼Œè§£å†³åŠæ³•ï¼š

- OSD æ˜¾ç¤ºæ—¶ï¼Œå°å°é¢çš„é«˜åº¦ = æ­Œæ›²ä¿¡æ¯ + OSD
- OSD éšè—æ—¶ï¼Œå°å°é¢çš„é«˜åº¦ = æ­Œæ›²ä¿¡æ¯

çœŸæ˜¯ä¸€ä¸ªå¤©æ‰çš„æƒ³æ³•ğŸ¥°

å¤åˆ¶ä¸€ä»½å°å°é¢å¹¶ä¿®æ”¹ä½ç½®å¤§å°ä¿¡æ¯ï¼š

```xml
<control type="image">
    <description>cover image</description>
    <left>-250</left>
    <top>-2</top>
    <width>263</width>
    <height>263</height>
    <visible>Window.IsActive(musicosd)</visible>
    <animation effect="fade" start="0" end="100" time="200">Visible</animation>
    <animation effect="fade" start="100" end="0" time="200">Hidden</animation>
    <texture fallback="DefaultAlbumCover.png">$INFO[MusicPlayer.offset(0).Cover]</texture>
    <aspectratio aligny="bottom">keep</aspectratio>
    <bordertexture border="8">ThumbShadow.png</bordertexture>
    <bordersize>8</bordersize>
</control>
<control type="image">
    <description>cover image</description>
    <left>-180</left>
    <top>-2</top>
    <width>193</width>
    <height>193</height>
    <visible>!Window.IsActive(musicosd)</visible>
    <animation effect="fade" start="0" end="100" time="200">Visible</animation>
    <animation effect="fade" start="100" end="0" time="200">Hidden</animation>
    <texture fallback="DefaultAlbumCover.png">$INFO[MusicPlayer.offset(0).Cover]</texture>
    <aspectratio aligny="bottom">keep</aspectratio>
    <bordertexture border="8">ThumbShadow.png</bordertexture>
    <bordersize>8</bordersize>
</control>
```

è®¡ç®—æ–¹å¼ï¼šPS æµ‹é‡å°å°é¢é«˜ 247pxï¼ˆæ§ä»¶ä¸­`width`å±æ€§åŒ…å«è¾¹æ¡†ï¼Œæ‰€ä»¥ä¸ä¸€è‡´ï¼‰ï¼Œæ­Œæ›²ä¿¡æ¯é«˜ 177pxï¼Œå­˜åœ¨ 70px çš„å·®å€¼ï¼Œæ‰€ä»¥

- å®½é«˜ç›´æ¥å‡å» 70
- å°å°é¢ç›¸å¯¹çˆ¶æ§ä»¶å·¦ä½ç½®ä¸ºè´Ÿï¼Œæ›´å°çš„å°é¢åº”è¯¥å°‘è´Ÿ 70

å†åŠ ä¸Šæ˜¾ç¤ºéšè—åŠ¨ç”»ï¼Œæ•ˆæœå¯ä»¥è¯´æ˜¯éå¸¸æ¿æ‰äº†ğŸ¥°

åè®°ï¼šOSD æ— æ³•æ§åˆ¶æ˜¾ç¤ºï¼Œä½†å®ƒå†…éƒ¨çš„æ§ä»¶éƒ½åœ¨`MusicOSD`æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥éšè—è¿˜æ˜¯å¯ä»¥æ§åˆ¶çš„

### æ’­æ”¾æ§ä»¶æŒ‰é’®ä¿®æ”¹

å¯¹äºç°ä»£äººæ¥è¯´ï¼Œæ’­æ”¾ã€æ­Œè¯ã€ä¸Šä¸€æ›²ã€ä¸‹ä¸€æ›²æ‰æ˜¯æœ€é‡è¦çš„

![image-20231111131224324](assets/image-20231111131224324.png)

ä¿®æ”¹æ’­æ”¾é¡µ`MusicOSD`

![image-20231111131633406](assets/image-20231111131633406.png)

### åˆ é™¤æ­Œè¯å³ä¸‹è§’æ¥æº

è™½ç„¶å°Šé‡ç‰ˆæƒï¼Œä½†è§†è§‰ä¸Šæœ‰ç‚¹å¤ªå½±å“äº†ï¼Œåˆ æ‰å§ğŸ¥°

`xml\script-cu-lrclyrics-main.xml`

```xml
<control type="group">
    <visible>String.IsEmpty(Window(Home).Property(culrc.hidedialog))</visible>
    <animation effect="fade" start="100" end="0" time="200" condition="!String.IsEmpty(Window(Home).Property(culrc.hidedialog)) + ![Window.IsActive(musicosd) | Player.ShowInfo]">Conditional</animation>
    <control type="label">
        <description>Scraper label</description>
        <visible>false</visible>
        <left>300</left>
        <top>780</top>
        <width>1300</width>
        <height>30</height>
        <label>$LOCALIZE[21870]: $INFO[Control.GetLabel(200)]</label>
        <font>font12</font>
        <align>right</align>
        <aligny>center</aligny>
        <textcolor>white</textcolor>
        <shadowcolor>black</shadowcolor>
    </control>
    <!-- ** Required ** Do not change <id> or <type> (name of the used scraper and optionally the number of found lyrics) -->
    <control type="label" id="200">
        <description>Scraper label</description>
        <visible>false</visible>
    </control>
</control>
```



# TV å³ä¸Šè§’æŒ‰é’®æ— æ³•è·å¾—ç„¦ç‚¹

åœ¨ TV ç«¯é€šè¿‡æ–¹å‘é”®æ“ä½œï¼Œæ— æ³•ä½¿å³ä¸Šè§’æŒ‰é’®è·å¾—ç„¦ç‚¹ã€‚å½“åœ¨èœå•ä¸­è¿›äº†å¾ˆæ·±çš„å±‚çº§ï¼Œé€šè¿‡ä¸»é¡µæŒ‰é’®å¯ä»¥å¾ˆæ–¹ä¾¿çš„ç›´æ¥å›åˆ°ä¸»é¡µï¼Œç„¶åè¿›å…¥ç›¸åº”åŠŸèƒ½åˆå›åˆ°åŸæ¥çš„å±‚çº§ï¼Œè¿™ä¸ªæ”¹è¿›å¾ˆæœ‰å¿…è¦ã€‚

![image-20231111111349460](assets/image-20231111111349460.png)

è¿™ä¸ªçœ‹èµ·æ¥æ¯”è¾ƒå¤æ‚çš„ä¿®æ”¹ï¼Œå®é™…ä¸Šä¸€ç‚¹ä¹Ÿä¸ç®€å•ã€‚

### kodi ç„¦ç‚¹çš„åŸç†

æ—¢ç„¶æ”¹ç„¦ç‚¹ï¼Œå¿…ç„¶éœ€è¦æ”¹äº†ä¸ªç®€å•é¡µé¢ç®€å•æµ‹è¯•ä¸‹ç„¦ç‚¹çš„åŸç†

- `onleft`å±æ€§æŒ‡å®šäº†ç„¦ç‚¹åœ¨è¿™ä¸ªæ§ä»¶ä¸Šæ—¶ï¼ŒæŒ‰å·¦é”®ç„¦ç‚¹è½¬ç§»åˆ°çš„æ§ä»¶`id`ï¼Œå…¶ä»–æ–¹å‘åŒç†
- å½“ä¸€ä¸ªï¼ˆä¸å¯èšç„¦çš„ï¼‰çˆ¶æ§ä»¶è·å¾—ç„¦ç‚¹æ—¶ï¼Œç„¦ç‚¹ä¼šè‡ªåŠ¨è½¬ç§»åˆ°å­æ§ä»¶ï¼Œä¸”è·å¾—ç„¦ç‚¹çš„ä¸ºç¬¬ä¸€ä¸ªæˆ–ä¸Šæ¬¡æœ€åå¤±å»ç„¦ç‚¹çš„æ§ä»¶
- å½“ä¸€ä¸ªä¸å¯è§çš„æ§ä»¶è·å¾—ç„¦ç‚¹æ—¶ï¼Œç„¦ç‚¹ä¼šé¡ºç€æ–¹å‘å¾€åä¼ é€’ï¼Œå¦‚æ»šåŠ¨æ¡ï¼ˆè¿™ç‚¹å­˜ç–‘ï¼‰

### å¯»æ‰¾å³ä¸Šè§’æŒ‰é’®

æ ¹æ®æ–‡ä»¶åçŒœæƒ³`Home`åº”è¯¥æ˜¯ä¸»é¡µï¼Œå¸ƒå±€éå¸¸å¤æ‚ï¼Œå¼ºè¡Œä»é‡Œé¢çœ‹ä¹Ÿæ²¡æœ‰çœ‹åˆ°å³ä¸Šè§’æŒ‰é’®ã€‚ä½†æ˜¯çœ‹åˆ°äº†æœ‰ä¸¤ä¸ª`id`åˆ†åˆ«ä¸º`9002`å’Œ`9007`çš„å¤§æ§ä»¶çš„`onup/ondown`æ˜¯ 915ï¼ŒçŒœæƒ³å¾ˆå¯èƒ½æ˜¯å³ä¸Šè§’æ§ä»¶ï¼Œå› ä¸ºé¦–é¡µæŒ‰åˆ°æœ€ä¸Šå’Œæœ€ä¸‹ç„¦ç‚¹éƒ½ä¼šè·³åˆ°å³ä¸Šè§’ã€‚æœç´¢`id="915"`ï¼Œæ˜¯æ—¶é’Ÿ`Clock`æ§ä»¶ï¼ˆ`xml\includes.xml`ï¼‰ï¼Œä¸éš¾æ‰¾å‡ºå®ƒ include çš„`MainWindowMouseButtons`æ§ä»¶å°±æ˜¯æŒ‰é’®ï¼Œä¹Ÿå®šä¹‰åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå…¶ä¸­åŒ…å«ç€å…³é—­ã€æ”¶è—ã€è¿”å›ã€ä¸»é¡µæŒ‰é’®ï¼Œç„¦ç‚¹è½¬ç§»åˆ°`915`ï¼Œå°±æ˜¯è½¬ç§»åˆ°å³ä¸Šè§’æŒ‰é’®ã€‚

```xml
<include name="Clock">
    <control type="grouplist" id="915">
        <right>60</right>
        <top>60</top>
        <width>654</width>
        <height>100</height>
        <align>right</align>
        <orientation>horizontal</orientation>
        <itemgap>5</itemgap>
        <animation effect="slide" start="0,0" end="-50,0" time="100" condition="Player.Muted">conditional</animation>
        <include>MainWindowMouseButtons</include>
        <include content="DynamicRightBreadcrumb">
            <param name="breadcrumb-right" value="0" />
            <param name="breadcrumb-top" value="0" />
            <param name="breadcrumb-align" value="left" />
            <param name="breadcrumb1-label" value="$INFO[System.Time(hh:mm)]$INFO[System.Time(xx), ,]" />
        </include>
    </control>
    <control type="group">
        <visible>![Window.IsActive(visualisation) | Window.IsActive(fullscreenvideo)]</visible>
        <include content="DynamicRightBreadcrumb">
            <param name="breadcrumb-top" value="110" />
            <param name="breadcrumb-height" value="34" />
            <param name="breadcrumb-font" value="breadcrumb.secondary" />
            <param name="breadcrumb1-label" value="$INFO[System.Date(MMM)] $INFO[System.Date(dd)]" />
            <param name="breadcrumb2-label" value="$INFO[System.Date(DDD)]" />
            <param name="breadcrumb2-visible" value="true" />
        </include>
    </control>
</include>
```



### å¯»æ‰¾åˆ—è¡¨é¡µ

é¦–å…ˆå½“ç„¶çš„æƒ³å»å¯»æ‰¾è¿™ä¸ªé¡µé¢ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æ‰¾åˆ°ï¼ŒçŒœæƒ³å¾ˆå¯èƒ½æ˜¯ç»„ä»¶å¤ç”¨ï¼ŒåŒ…æ‹¬ä¸­é—´çš„åˆ—è¡¨ï¼Œæ¯•ç«Ÿå¾ˆå¤šé¡µé¢éƒ½æœ‰è¿™æ ·çš„åˆ—è¡¨ã€‚æˆ‘ä»¬æ¯”è¾ƒäº†è§£çš„ç‰¹å¾æ˜¯ï¼ˆå³ä¸‹è§’ï¼‰å½“å‰æ’­æ”¾éŸ³ä¹ï¼Œå¯ä»¥ä»è¿™é‡Œå…¥æ‰‹æœç´¢å¼•ç”¨å®ƒçš„åœ°æ–¹æ‰¾åˆ°è¿™ä¸ªé¡µé¢ã€‚

ä»éŸ³ä¹æ’­æ”¾é¡µé¢å¾—çŸ¥æ­Œæ‰‹æ˜¯`MusicPlayer.Artist`ï¼Œæœç´¢ï¼Œåªæœ‰å¾ˆå°‘çš„åœ°æ–¹å¼•ç”¨

![image-20231111112150154](assets/image-20231111112150154.png)

æ’é™¤é¦–é¡µï¼ˆç‹¬ç‰¹çš„å½“å‰éŸ³ä¹æ ·å¼ï¼‰ã€æ’é™¤éŸ³ä¹æ’­æ”¾é¡µã€æ­Œè¯ï¼Œå°±æ˜¯å®ƒäº†`xml\includes.xml`ï¼Œä»åç§°å’Œå¸ƒå±€åˆ†æï¼Œç¡®è®¤è¿™ä¸ªç»„ä»¶å«`CommonNowPlaying`ã€‚

æœç´¢`CommonNowPlaying`ï¼Œä»æœç´¢ç»“æœçš„åç§°çœ‹ï¼Œè¿™äº›å¾ˆå¯èƒ½å°±æ˜¯å„ä¸ªæ¨¡å—çš„é¡µé¢äº†ã€‚

> [!TIP]
>
> æŸ¥æ‰¾`include`æ—¶
>
> - `<include name="CommonNowPlaying">`: å®šä¹‰çš„åœ°æ–¹
> - `<include>CommonNowPlaying</include>`: å¼•ç”¨çš„åœ°æ–¹

ä»åç§°å’Œå¸ƒå±€åˆ†æï¼ŒéŸ³ä¹åˆ—è¡¨é¡µæ˜¯`xml\MyMusicNav.xml`ã€‚

### ä¿®æ”¹åˆ—è¡¨ç„¦ç‚¹é€»è¾‘

ä»å¸ƒå±€çœ‹ï¼Œè¿™ä¸ªé¡µé¢å¼•ç”¨äº†å¤§é‡çš„å…¬å…±ç»„ä»¶ï¼ŒåŒ…æ‹¬å½“å‰æ’­æ”¾ã€æ—¶é’Ÿç­‰ï¼Œæœ¬èº«çš„æ§ä»¶åªæœ‰å·¦ä¾§çš„ä¾§æ»‘èœå•ã€‚è¿™å°±å¯¼è‡´è¿™é‡Œåªèƒ½æ§åˆ¶ç„¦ç‚¹ä»ä¾§æ»‘èœå•è½¬ç§»å‡ºå»ï¼Œè€Œæˆ‘ä»¬æƒ³è¦çš„æ“ä½œæ˜¯åœ¨åˆ—è¡¨æŒ‰å³ç„¦ç‚¹è½¬ç§»åˆ°å³ä¸Šè§’æŒ‰é’®ï¼Œå³**ä¿®æ”¹ç„¦ç‚¹ä»åˆ—è¡¨è½¬ç§»å‡ºå»çš„æ–¹å¼**ï¼Œè¿™å°±å¿…é¡»å»ä¿®æ”¹åˆ—è¡¨æ§ä»¶äº†ã€‚

##### å¼•ç”¨çš„ç»„ä»¶

```xml
<!--views-->
<control type="group">
    <include>Window_OpenClose_Animation</include>
    <include>CommonRootView</include>
    <!-- view id = 50 -->
    <include>FullWidthList</include>
    <!-- view id = 51 -->
    <include>ThumbnailView</include>
    <!-- view id = 500 -->
    <include>MusicInfoListView</include>
    <!-- view id = 506 -->
    <include>AlbumWrapView2_Fanart</include>
    <!-- view id = 509 -->
    <include>MusicVideoInfoListView</include>
    <!-- view id = 511 -->
    <include>ArtistMediaListView</include>
    <!-- view id = 512 -->
    <include>AlbumInfoListView</include>
    <!-- view id = 513 -->
    <include>AddonInfoListView1</include>
    <!-- view id = 550 -->
    <include>AddonInfoThumbView1</include>
    <!-- view id = 551 -->
</control>
```

> [!NOTE]
>
> æ³¨æ„æ³¨é‡Šçš„å¯¹åº”å…³ç³»ï¼Œ`id`æ³¨é‡Šæ˜¯å†™åœ¨æ§ä»¶çš„ä¸‹æ–¹ï¼Œè¿™é‡Œä¸€åº¦æ°´åˆ°æˆ‘:dog:

##### ä¾§æ»‘èœå•

```xml
<!--buttons grouplist-->
<control type="grouplist" id="9000">
    <left>10</left>
    <width>375</width>
    <height>100%</height>
    <onleft>9000</onleft>
    <onright>50</onright>
    <onup>9000</onup>
    <ondown>9000</ondown>
    <onback>50</onback>
```

ä»ç„¦ç‚¹çœ‹ï¼Œä¸Šä¸‹æ–¹å‘ç„¦ç‚¹éƒ½åœ¨ä¾§æ»‘èœå•åˆ—è¡¨å†…ï¼Œå‘å³å’Œè¿”å›ç„¦ç‚¹è½¬ç§»åˆ°`id="50"`çš„æ§ä»¶ï¼Œå³`CommonRootView`ï¼Œæ ¹æ®è½¯ä»¶å†…çš„æ“ä½œï¼Œè¿™ä¸ªå°±æ˜¯åˆ—è¡¨ç»„ä»¶ã€‚

æœç´¢æ‰“å¼€`CommonRootView`æ§ä»¶ï¼ˆ`xml\ViewsFileMode.xml`ï¼‰ï¼Œå¯ä»¥çœ‹åˆ°åˆ—è¡¨ã€å¤§åˆ—è¡¨ã€ç¼©ç•¥å›¾ç­‰å¸ƒå±€æ§ä»¶éƒ½åœ¨è¿™ä¸ªæ§ä»¶é‡Œé¢ã€‚

ç„¦ç‚¹å‘å³è½¬ç§»çš„æ–¹å‘æ˜¯ï¼šåˆ—è¡¨ â†’ è‡ªèº«æ»šåŠ¨æ¡ â†’ ä¾§æ»‘èœå•çš„è§†å›¾é¡¹ï¼ˆ`id="2"`ï¼‰

> [!TIP]
>
> è¿™ä¹Ÿå°±è§£é‡Šäº†ä¸ºä»€ä¹ˆåœ¨ä¾§æ»‘èœå•è§†å›¾é¡¹ä¸Šé¢åŠ æŒ‰é’®ï¼Œå±•å¼€ä¾§æ»‘èœå•æ˜¯ç„¦ç‚¹æ€»æ˜¯åœ¨è§†å›¾é¡¹ä¸Šã€‚

æ”¹æ³•å°±å¾ˆç®€å•äº†ï¼Œåªéœ€è¦ä¿®æ”¹æ»šåŠ¨æ¡ç„¦ç‚¹å‘å³çš„è½¬ç§»å³å¯ï¼Œæ³¨æ„åˆ—è¡¨ã€å¤§åˆ—è¡¨ã€ç¼©ç•¥å›¾ç­‰æ–¹å¼æ¯ä¸ªæ»šåŠ¨æ¡éƒ½è¦ä¿®æ”¹

```xml
<!--scrollbar-->
<control type="scrollbar" id="650">
    <left>1012</left>
    <top>5</top>
    <bottom>5</bottom>
    <onleft>50</onleft>
    <onright>915</onright>
    <orientation>vertical</orientation>
</control>
```

> [!NOTE]
>
> è¿™é‡Œæµ‹è¯•å‘ç°ï¼Œç¼©ç•¥å›¾æ–¹å¼`ThumbnailView`
>
> - æ»šåŠ¨æ¡æ˜¾ç¤ºæ—¶ï¼Œç„¦ç‚¹å³ç§»æ­£å¸¸
> - æ»šåŠ¨æ¡ä¸æ˜¾ç¤ºæ—¶ï¼Œç„¦ç‚¹æ— æ³•å³ç§»
>
> å¯ä»¥ä¿®æ”¹ä¸Šç§»æ—¶ç„¦ç‚¹è½¬ç§»åˆ°å³ä¸Šè§’æŒ‰é’®ï¼Œæ³¨æ„è¿™é‡Œä¿®æ”¹çš„æ˜¯çˆ¶çº§æ§ä»¶
>
> ```xml
> <include name="ThumbnailView">
>     <!--all content-->
>     <control type="group">
>         <visible>Control.IsVisible(500)</visible>
>         <include>VisibleFadeEffect</include>
>         <include condition="String.IsEqual(Skin.AspectRatio,4:3)">TallListContainer</include>
>         <include condition="!String.IsEqual(Skin.AspectRatio,4:3)">ShortListContainer</include>
>         <centerleft>50%</centerleft>
>         <width>1671</width>
>         <!--content list-->
>         <control type="panel" id="500">
>             <include condition="String.IsEqual(Skin.AspectRatio,4:3)">TallListContainer</include>
>             <include condition="!String.IsEqual(Skin.AspectRatio,4:3)">ShortListContainer</include>
>             <left>0</left>
>             <right>12</right>
>             <onleft>2</onleft>
>             <onright>600</onright>
>             <onup>915</onup>
>             <ondown>500</ondown>
>             <viewtype label="21371">list</viewtype>
>             <pagecontrol>600</pagecontrol>
>             <scrolltime>200</scrolltime>
>             <preloaditems>2</preloaditems>
>             <itemlayout condition="!Container.Content(Movies) + !Container.Content(Seasons) + !Container.Content(TVShows) + !Container.Content(Sets)" height="233" width="233">
> ```
>
> 

å³ä¸Šè§’èœå•ç„¦ç‚¹é€»è¾‘ä¿®æ”¹ï¼š

è¿”å›ï¼šç„¦ç‚¹å¾€å³è·³åˆ°ä¸»é¡µæŒ‰é’®ã€å¾€ä¸‹è·³åˆ°åˆ—è¡¨é¡µ

```xml
<onleft>50</onleft>
<onright>923</onright>
<onup>9002</onup>
<ondown>50</ondown>
```

ä¸»é¡µï¼šç„¦ç‚¹å¾€å·¦è·³åˆ°è¿”å›æŒ‰é’®ã€å¾€ä¸‹è·³åˆ°åˆ—è¡¨é¡µï¼Œå¾€å³è·³åˆ°è‡ªå·±ï¼Œå³ç„¦ç‚¹åªèƒ½ç”¨å·¦é”®ç§»å›åˆ—è¡¨

```xml
<onleft>922</onleft>
<onright>923</onright>
<onup>9002</onup>
<ondown>50</ondown>
```

### ä¿®æ”¹å³ä¸Šè§’æŒ‰é’®

äº‹å®ä¸Šï¼Œå¯ä»¥æŒ‰é¥æ§å™¨çš„è¿”å›ï¼Œè¿”å›é”®ä¹Ÿæ˜¯ä¸éœ€è¦çš„ï¼›æ›´éœ€è¦çš„æ˜¯å…¨å±æŒ‰é’®ã€‚

```xml
<control type="group" id="918">
    <width>45</width>
    <height>45</height>
    <visible>![Window.IsActive(Home) | Window.IsVisible(LoginScreen.xml)] + system.getbool(input.enablemouse) + Player.HasMedia</visible>
    <animation effect="fade" time="250" condition="!Window.IsVisible(DialogVolumeBar.xml) + Window.Previous(Home)">WindowOpen</animation>
    <animation effect="fade" time="250" condition="!Window.IsVisible(DialogVolumeBar.xml) + Window.Next(Home)">WindowClose</animation>
    <control type="button" id="922">
        <description>full screen button</description>
        <left>0</left>
        <top>0</top>
        <width>45</width>
        <height>45</height>
        <label>1036</label>
        <font></font>
        <onclick>fullscreen</onclick>
        <texturefocus colordiffuse="$INFO[Skin.String(color.500)]">backgrounds/white.png</texturefocus>
        <texturenofocus colordiffuse="$INFO[Skin.String(color.tertiary)]">backgrounds/white.png</texturenofocus>
        <onleft>50</onleft>
        <onright>923</onright>
        <onup>9002</onup>
        <ondown>50</ondown>
    </control>
    <control type="image">
        <description>Fullscreen Icon</description>
        <left>0</left>
        <top>0</top>
        <width>45</width>
        <height>45</height>
        <aspectratio>keep</aspectratio>
        <texture colordiffuse="$INFO[Skin.String(color.text)]">icon_fullscreen.png</texture>
        <visible>!Control.HasFocus(922)</visible>
    </control>
    <control type="image">
        <description>Fullscreen Icon</description>
        <left>0</left>
        <top>0</top>
        <width>45</width>
        <height>45</height>
        <aspectratio>keep</aspectratio>
        <texture colordiffuse="white">icon_fullscreen.png</texture>
        <visible>Control.HasFocus(922)</visible>
    </control>
</control>
```

> [!TIP]
>
> å…¨å±æŒ‰é’®å›¾æ ‡
>
> ![icon_fullscreen](assets/icon_fullscreen.png)

# é¦–é¡µæ§ä»¶ä¿®æ”¹

![image-20231114171942760](assets/image-20231114171942760.png)

æ”¾ä¸‹å¿…è¦çš„æŒ‰é’® + ä¸€ä¸ªå…¨å±æŒ‰é’®

`xml\Home.xml`

```xml
<control type="group">
    <visible>!VideoPlayer.Content(LiveTV)</visible>
    <top>-5</top>
    <left>-5</left>
    <control type="button" id="603">
        <left>-10</left>
        <top>5</top>
        <width>45</width>
        <height>45</height>
        <label></label>
        <onleft>608</onleft>
        <onright>605</onright>
        <onup>9007</onup>
        <ondown>9000</ondown>
        <onclick>fullscreen</onclick>
    </control>
    <control type="image">
        <description>Fullscreen Icon</description>
        <left>-4</left>
        <top>12</top>
        <width>32</width>
        <height>32</height>
        <aspectratio>keep</aspectratio>
        <texture colordiffuse="$INFO[Skin.String(color.text)]">icon_fullscreen.png</texture>
        <visible>!Control.HasFocus(603)</visible>
    </control>
    <control type="image">
        <description>Fullscreen Icon</description>
        <left>-4</left>
        <top>12</top>
        <width>32</width>
        <height>32</height>
        <aspectratio>keep</aspectratio>
        <texture colordiffuse="white">icon_fullscreen.png</texture>
        <visible>Control.HasFocus(603)</visible>
    </control>
    <control type="togglebutton" id="605">
        <left>45</left>
        <top>15</top>
        <width>25</width>
        <height>25</height>
        <label></label>
        <texturefocus colordiffuse="$INFO[Skin.String(color.500)]">OSDPauseNF.png</texturefocus>
        <texturenofocus colordiffuse="$INFO[Skin.String(color.text)]">OSDPauseNF.png</texturenofocus>
        <usealttexture>Player.Paused | Player.Forwarding | Player.Rewinding</usealttexture>
        <alttexturefocus colordiffuse="$INFO[Skin.String(color.500)]">OSDPlayNF.png</alttexturefocus>
        <alttexturenofocus colordiffuse="$INFO[Skin.String(color.text)]">OSDPlayNF.png</alttexturenofocus>
        <onleft>603</onleft>
        <onright>606</onright>
        <onup>9007</onup>
        <ondown>9000</ondown>
        <onclick>PlayerControl(Play)</onclick>
    </control>
    <control type="button" id="606">
        <left>90</left>
        <top>15</top>
        <width>25</width>
        <height>25</height>
        <label></label>
        <texturefocus colordiffuse="$INFO[Skin.String(color.500)]">OSDPrevTrackNF.png</texturefocus>
        <texturenofocus colordiffuse="$INFO[Skin.String(color.text)]">OSDPrevTrackNF.png</texturenofocus>
        <onleft>605</onleft>
        <onright>607</onright>
        <onup>9007</onup>
        <ondown>9000</ondown>
        <onclick>PlayerControl(Previous)</onclick>
    </control>
    <control type="button" id="607">
        <left>135</left>
        <top>15</top>
        <width>25</width>
        <height>25</height>
        <label></label>
        <texturefocus colordiffuse="$INFO[Skin.String(color.500)]">OSDNextTrackNF.png</texturefocus>
        <texturenofocus colordiffuse="$INFO[Skin.String(color.text)]">OSDNextTrackNF.png</texturenofocus>
        <onleft>606</onleft>
        <onright>608</onright>
        <onup>9007</onup>
        <ondown>9000</ondown>
        <onclick>PlayerControl(Next)</onclick>
    </control>
    <control type="button" id="608">
        <left>180</left>
        <top>15</top>
        <width>25</width>
        <height>25</height>
        <label></label>
        <texturefocus colordiffuse="$INFO[Skin.String(color.500)]">OSDStopNF.png</texturefocus>
        <texturenofocus colordiffuse="$INFO[Skin.String(color.text)]">OSDStopNF.png</texturenofocus>
        <onleft>607</onleft>
        <onright>603</onright>
        <onup>9007</onup>
        <ondown>9000</ondown>
        <onclick>down</onclick>
        <onclick>PlayerControl(Stop)</onclick>
    </control>
</control>
```

åŸæ“ä½œé€»è¾‘ä¸ºï¼šä¸»é¡µèœå•ä¸Šç§»ä¼šç§»åŠ¨åˆ°æ§ä»¶ä¸­é—´çš„æ’­æ”¾æŒ‰é’®ï¼ŒåŸå› æ˜¯å®ƒä»¬çš„`onup/ondown`ä¸ºæ’­æ”¾æŒ‰é’®çš„ id `603`ï¼Œæ­¤å¤„æ„Ÿè§‰å…¨å±æŒ‰é’®æ›´å¸¸ç”¨ï¼Œæ‰€ä»¥å°†å…¨å±æŒ‰é’®çš„é€»è¾‘æ”¹ä¸º`603`ã€‚è°ƒæ•´æŒ‰é’®é¡ºåºåï¼Œéœ€è¦å¤„ç†æŒ‰é’®çš„ç„¦ç‚¹è½¬ç§»é€»è¾‘ã€‚

åˆ é™¤ä¸‹æ–¹çš„å…¨å±èƒŒæ™¯å’ŒæŒ‰é’®ã€‚

# é¦–é¡µæ˜¾ç¤ºå½“å‰æ’­æ”¾æ­Œæ›²å°é¢

å‡ ä¹æ¯ä¸ªé¡µé¢éƒ½ include äº†`CommonBackground`ï¼ˆ`xml\IncludesBackgroundBuilding.xml`ï¼‰ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®è®¤èƒŒæ™¯åœ¨è¿™ä¸ªæ§ä»¶å¤„ç†ã€‚

```xml
<!-- global background -->
<control type="multiimage">
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <imagepath background="true" fallback="special://skin/extras/backgrounds/SKINDEFAULT.jpg">$VAR[BackgroundVar]</imagepath>
    <aspectratio>scale</aspectratio>
    <fadetime>450</fadetime>
    <loop>yes</loop>
    <include>fanartSpeed</include>
    <include condition="Skin.HasSetting(RandomizeBackground)">RandomizeImages</include>
    <visible>![Player.HasVideo + !Skin.HasSetting(ShowBackgroundVideo)] | [Window.IsVisible(MovieInformation) + !Skin.HasSetting(HideWindowedTrailer)] | Window.IsActive(TVChannels)</visible>
</control>
```

è¿™ä¸ªå°±æ˜¯é»˜è®¤èƒŒæ™¯ï¼Œåœ¨ä¸‹æ–¹åŠ ä¸Šæ­Œæ›²èƒŒæ™¯

```xml
<control type="image">
    <description>Fanart Image for Artist</description>
    <aspectratio>scale</aspectratio>
    <left>0</left>
    <top>0</top>
    <width>100%</width>
    <height>100%</height>
    <texture background="false">$INFO[MusicPlayer.offset(0).Cover]</texture>
    <visible>Player.HasAudio</visible>
</control>
```

é»˜è®¤èƒŒæ™¯çš„æ˜¾ç¤ºé€»è¾‘çœ‹èµ·æ¥è›®å¤æ‚ï¼Œå…¼å®¹å¤„ç†ï¼š

```java
!Player.HasAudio | [![Player.HasVideo + !Skin.HasSetting(ShowBackgroundVideo)] | [Window.IsVisible(MovieInformation) + !Skin.HasSetting(HideWindowedTrailer)] | Window.IsActive(TVChannels)]
```

# i18n

`language`æ–‡ä»¶å¤¹ä¸­å­˜æ”¾ç€å„ç§è¯­è¨€çš„å­—ç¬¦ä¸²ï¼Œå¦‚ç®€ä½“ä¸­æ–‡`resource.language.zh_ch`ï¼Œè‹±è¯­`resource.language.en_us`ã€‚

æŒ‘é€‰è‡ªå·±ç”¨åˆ°çš„è¯­è¨€æ·»åŠ å³å¯ï¼Œæ³¨æ„ id ä¸è¦é‡å¤

```properties
msgctxt "#31940"
msgid "Welcome"
msgstr "Welcome"
```



# ä¿®æ”¹å·¦ä¸Šè§’æ ‡é¢˜

![image-20231114181001368](assets/image-20231114181001368.png)

Kodi çš„é¼é¼å¤§åå·²ç»å°åœ¨æˆ‘å¿ƒé‡Œäº†ï¼Œè¿™é‡Œå°±ä¸ç”¨æ˜¾ç¤ºäº†ï¼Œå¦å¤–å¯ä»¥ä¿®æ”¹ä¸‹ç”¨æˆ·åç§°ã€‚

`Home`ï¼ˆ`xml/Home.xml`ï¼‰ä¸­çš„æ ‡é¢˜ï¼š

```xml
<!--breadcrumbs-->
<include content="DynamicLeftBreadcrumb">
    <param name="breadcrumb1-label" value="Kodi" />
    <param name="breadcrumb2-label" value="[LOWERCASE]$LOCALIZE[10000][/LOWERCASE]" />
    <param name="breadcrumb2-visible" value="true" />
</include>
<include content="DynamicLeftBreadcrumb">
    <param name="breadcrumb-top" value="110" />
    <param name="breadcrumb-height" value="34" />
    <param name="breadcrumb-font" value="breadcrumb.secondary" />
    <param name="breadcrumb1-label" value="$LOCALIZE[31940]" />
    <param name="breadcrumb2-label" value="$INFO[System.ProfileName]" />
    <param name="breadcrumb2-visible" value="true" />
</include>
```

æ˜¾ç„¶ï¼Œæ ‡é¢˜çš„æ¯ä¸€è¡Œå°±æ˜¯å¯¹`DynamicLeftBreadcrumb`ï¼ˆ`xml/includes.xml`ï¼‰çš„ä¸€æ¬¡å¼•ç”¨ï¼Œç›´æ¥ä¿®æ”¹å³å¯ã€‚

```xml
<include content="DynamicLeftBreadcrumb">
    <param name="breadcrumb1-label" value="[LOWERCASE]$LOCALIZE[10000][/LOWERCASE]" />
    <param name="breadcrumb2-label" value="" />
    <param name="breadcrumb2-visible" value="true" />
</include>
<include content="DynamicLeftBreadcrumb">
    <param name="breadcrumb-top" value="110" />
    <param name="breadcrumb-height" value="34" />
    <param name="breadcrumb-font" value="breadcrumb.secondary" />
    <param name="breadcrumb1-label" value="$LOCALIZE[31940]" />
    <param name="breadcrumb2-label" value="$LOCALIZE[31941]" />
    <param name="breadcrumb2-visible" value="true" />
</include>
```

### æ·»åŠ æ–°çš„æ ·å¼

```xml
	<include name="DynamicLeftBreadcrumb">
		<param name="breadcrumb-left" default="60" />
		<param name="breadcrumb-top" default="60" />
		<param name="breadcrumb-width" default="604" />
		<param name="breadcrumb-height" default="45" />
		<param name="breadcrumb-font" default="breadcrumb" />
		<param name="breadcrumb1-label" default="" />
		<param name="breadcrumb1-visible" default="true" />
		<param name="breadcrumb2-label" default="" />
		<param name="breadcrumb2-visible" default="false" />
		<param name="breadcrumb3-label" default="" />
		<param name="breadcrumb3-visible" default="false" />
		<param name="breadcrumb4-label" default="" />
		<param name="breadcrumb4-visible" default="false" />
				...
				<!--breadcrumb 1 label-->
				<control type="button" id="1">
					<width max="500">auto</width>
					<height>$PARAM[breadcrumb-height]</height>
					<font>$PARAM[breadcrumb-font]</font>
					<label>$PARAM[breadcrumb1-label]</label>
					<include>LeftBreadcrumbCommonValues</include>
					<visible>$PARAM[breadcrumb1-visible]</visible>
				</control>
				<!--breadcrumb 2 label-->
				<control type="button" id="1">
					<width max="500">auto</width>
					<height>$PARAM[breadcrumb-height]</height>
					<font>$PARAM[breadcrumb-font]</font>
					<label>$PARAM[breadcrumb2-label]</label>
					<disabledcolor>$INFO[Skin.String(color.500)]</disabledcolor>
					<include>LeftBreadcrumbCommonValues</include>
					<visible>$PARAM[breadcrumb2-visible]</visible>
				</control>
        		...
```

æ§ä»¶çš„å®ç°æ–¹å¼ç›¸å½“å·§å¦™ï¼Œæ§ä»¶ä¸­æœ‰4ä¸ª`button`ï¼Œäº‹å®ä¸Šå½“`label`ç”¨å•¦ï¼Œæ ¹æ® 4 ç»„å‚æ•°ä¼ å…¥åˆ†åˆ«å†³å®šä»–ä»¬çš„æ–‡å­—ã€æ˜¾ç¤ºéšè—ï¼Œç¬¬ä¸€ä¸ªé»˜è®¤æ˜¾ç¤ºï¼Œåä¸‰ä¸ªé»˜è®¤éšè—ã€‚æ¯ä¸ªé¡µé¢ include å¤šä¸ªæ§ä»¶æ˜¾ç¤ºå¤šè¡Œæ ‡é¢˜ï¼›ä¼ å…¥å¤šç»„å‚æ•°åœ¨æ ‡é¢˜ä¸­æ˜¾ç¤ºå¤šç§æ ·å¼çš„æ–‡æœ¬ï¼Œå¦‚'Kodi'å’Œçº¢è‰²çš„'ä¸»ç•Œé¢'ã€‚

å¦‚æœæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‹¬ç‰¹çš„æ ·å¼ï¼ˆæ¯”å¦‚é¢œè‰²ï¼‰ï¼Œæ–°å¢ä¸€ä¸ªæ§ä»¶ï¼Œå†æ–°å¢ä¸€ç»„å‚æ•°å³å¯ã€‚

```xml
<param name="breadcrumb5-label" default="" />
<param name="breadcrumb5-visible" default="false" />

<!--breadcrumb 5 label-->
<control type="button" id="1">
    <width max="500">auto</width>
    <height>$PARAM[breadcrumb-height]</height>
    <font>$PARAM[breadcrumb-font]</font>
    <label>$PARAM[breadcrumb5-label]</label>
    <disabledcolor>FFFF4081</disabledcolor>
    <include>LeftBreadcrumbCommonValues</include>
    <visible>$PARAM[breadcrumb5-visible]</visible>
</control>
```

ä½¿ç”¨

```xml
<include content="DynamicLeftBreadcrumb">
    <param name="breadcrumb-top" value="110" />
    <param name="breadcrumb-height" value="34" />
    <param name="breadcrumb-font" value="breadcrumb.secondary" />
    <param name="breadcrumb1-label" value="$LOCALIZE[31940]" />
    <param name="breadcrumb5-label" value="$LOCALIZE[31941]" />
    <param name="breadcrumb5-visible" value="true" />
</include>
```

![image-20231114183441400](assets/image-20231114183441400.png)

# é«˜çº§è®¾ç½®

> ```xml
> <advancedsettings>
>     <loglevel hide="true">2</loglevel>
> </advancedsettings>
> ```
>
> [advancedsettings.xml - Official Kodi Wiki](https://kodi.wiki/index.php?title=Advancedsettings.xml)

> [!NOTE]
>
> å®˜ç½‘æç¤ºï¼šadvancedsettings.xml é»˜è®¤ä¸å­˜åœ¨ï¼Œéœ€è¦æ‰‹åŠ¨åœ¨`userdata`ç›®å½•åˆ›å»ºã€‚
>
> The Userdata folder is a subfolder of the ***[Kodi Data Folder](https://kodi.wiki/view/Kodi_data_folder)*** and is located as shown in the table below.
>
> |        Operating system         |                       Userdata Folder                        |
> | :-----------------------------: | :----------------------------------------------------------: |
> |           **Android**           | Android/data/org.xbmc.kodi/files/.kodi/userdata/ *(see [note](https://kodi.wiki/view/Userdata#Android_location))* |
> |             **iOS**             |    /private/var/mobile/Library/Preferences/Kodi/userdata/    |
> |          **LibreELEC**          |                   /storage/.kodi/userdata/                   |
> |            **Linux**            |                      ~/.kodi/userdata/                       |
> |             **Mac**             | /Users/<your_user_name>/Library/Application Support/Kodi/userdata/ |
> |     **Nvidia Shield (SMB)**     | smb://<nvidiashieldurl>/internal/Android/data/org.xbmc.kodi/files/.kodi/userdata |
> |            **OSMC**             |                  /home/osmc/.kodi/userdata/                  |
> |            **tvOS**             |    /private/var/mobile/Library/Preferences/Kodi/userdata/    |
> |           **Windows**           |                   %APPDATA%\Kodi\userdata                    |
> |      **Windows Portable**       |  <*Install location chosen by you*>\portable_data\userdata\  |
> | **Windows via Microsoft Store** | %LOCALAPPDATA%\Packages\XBMCFoundation.Kodi_4n2hpmxwrvr6p\LocalCache\Roaming\Kodi\ |
> |        **Windows Xbox**         | %LOCALAPPDATA%\Packages\XBMCFoundation.Kodi_4n2hpmxwrvr6p\LocalCache\Roaming\Kodi\ |
>
> [Userdata - Official Kodi Wiki](https://kodi.wiki/view/Userdata)

### ç¼“å­˜å›¾ç‰‡çš„æœ€å¤§åˆ†è¾¨ç‡

æŸå¤©çªç„¶å‘ç°æ­Œæ›²å°é¢å‡ºå¥‡çš„é«˜æ¸…ï¼Œéšåä¾¿åˆä¸€å¦‚æ—¢å¾€çš„æ¨¡ç³Šï¼Œæ‰“å°å¤§ä½¬çš„ç½‘æ˜“äº‘æ’ä»¶æ­Œæ›²æ¥å£æŠ¥æ–‡ï¼Œæ‰“å¼€æ­Œæ›²å°é¢è¿æ¥ï¼Œå‘ç°åˆ†è¾¨ç‡é«˜è¾¾`3000*3000`ï¼Œä¸èƒ½çœ‹é‚“ç´«æ£‹çš„ç¾ç…§è¿™æ€ä¹ˆè¡Œã€‚

ç ”ç©¶åŠå¤©æ— æœï¼Œåœ¨å®˜æ–¹è®ºå›å‘äº†ä¸€ä¸ªå¸–å­è¯¢é—®[How to make the image control display high-resolution imageï¼Ÿ (kodi.tv)](https://forum.kodi.tv/showthread.php?tid=375033&pid=3171997#pid3171997)ï¼Œæ²¡æƒ³åˆ°è¿‡äº†ä¸€ä¸ªå¤šå°æ—¶å°±æ”¶åˆ°å¤§ä½¬[Hitcher](https://forum.kodi.tv/member.php?action=profile&uid=27820)çš„å›å¤ğŸ¤©

> Use `imageres` for advanced settings so the image is cached at a higher resolution.
>
> [https://kodi.wiki/index.php?title=Advanc...l#imageres](https://kodi.wiki/index.php?title=Advancedsettings.xml#imageres)
>
> Note: This will only affect newer images so you might want to delete the `Thumbnails` folder and `Texturesxx.db` file so they get recached.
>
> æ¸…é™¤å›¾ç‰‡ç¼“å­˜ï¼šåˆ é™¤`userdata`ä¸‹`Thumbnails`æ–‡ä»¶å¤¹å’Œ`Texturesxx.db`æ–‡ä»¶

> Specify the maximum resolution that [cached artwork](https://kodi.wiki/view/Artwork/Cache#Texture_optimization) (other than fanart / 16:9 images) should be resized to in pixels. The width is automatically calculated as being 16/9*height. The image will be resized to fit within this size. e.g. an image that is 2000x500 will be cached at size 1280x320. An image that is 500x800 will be cached at size 450x720 using the default value of 720.
>
> å¦‚è®¾ç½® 720ï¼ŒæŒ‰`16:9`æ¢ç®—ï¼Œå³`1280*720`ï¼Œå®½æˆ–é«˜è¶…è¿‡çš„å›¾ç‰‡ï¼Œä¼šè¢«ç­‰æ¯”ä¾‹å‹ç¼©åˆ°ä¸è¶…è¿‡æ­¤åˆ†è¾¨ç‡ã€‚
>
> ```xml
> <imageres>720</imageres>
> ```

æ‰€ä»¥å¦‚æœåœ¨ 1080p å±å¹•ä¸ŠåŸåˆ†è¾¨ç‡æ˜¾ç¤ºï¼Œåº”è®¾ç½®`1920`ã€‚
